Code:
<html>
<head>
<title>Secret Messenger</title>
</head>
<body>

<center>

<input type="password" name="key" placeholder="Encryption Key" id="key"><br><br>
<textarea name="message" placeholder="Message" maxlength="3000" id="message" rows="6"></textarea><br><br>
<input type="submit" name="submit" id="form1" value="Encrypt" onclick="encryption()"><br><br>
<input type="submit" name="submit" id="form1" value="Decrypt" onclick="decryption()">

</center>
<br>
<hr>
<br>
<center>
<p id="display"></p>
<textarea name="message" placeholder="Message" maxlength="3000" id="display2"></textarea>
<script language="JavaScript">
    function encryption() {

    var key=parseInt(document.getElementById("key").value);
    var message=document.getElementById("message").value;

    a=0;

    for(k=0;k<String(key).length;k++)
    {
    a+=parseInt(String(key).charAt(k));
    }

    b=Math.pow(2,parseInt(a));
    c=Math.floor(b/a);
    d=0;
    if(c<9){
    f=0;

    for(n=0;n<String(b).length;n++)
    {
    f+=parseInt(String(b).charAt(n));
    }
    c+=f;
    }
    if(c>9){
    for(m=0;m<String(c).length;m++)
    {
    d+=parseInt(String(c).charAt(m));
    }
    c=d;
    }
   

    var encrypted="";
       
        for(i=0;i<message.length;i++)
        {
        pin=message.charAt(i);
        pinascii=parseInt(pin.charCodeAt(0))+c;
        pinstr=String.fromCharCode(pinascii);
        encrypted+=pinstr;

        }
        document.getElementById("display2").value=(encrypted);
    }


    function decryption() {
    var key=parseInt(document.getElementById("key").value);
    var message=document.getElementById("message").value;

    a=0;

    for(k=0;k<String(key).length;k++)
    {
    a+=parseInt(String(key).charAt(k));
    }

    b=Math.pow(2,parseInt(a));
    c=Math.floor(b/a);
    d=0;
    if(c<9){
    f=0;

    for(n=0;n<String(b).length;n++)
    {
    f+=parseInt(String(b).charAt(n));
    }
    c+=f;
    }
    if(c>9){
    for(m=0;m<String(c).length;m++)
    {
    d+=parseInt(String(c).charAt(m));
    }
    c=d;
    }
    var decrypted="";
       
        for(i=0;i<message.length;i++)
        {
        pin=message.charAt(i);
        pinascii=parseInt(pin.charCodeAt(0))-c;
        pinstr=String.fromCharCode(pinascii);
        decrypted+=pinstr;

        }
        document.getElementById("display2").value=(decrypted);
    }
  </script>
</center>
</body>
</html
